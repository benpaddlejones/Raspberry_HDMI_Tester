# Stage2 system packages (required for basic system functionality)
# These packages are installed in addition to the base Raspberry Pi OS Lite image

# NOTE: This stage uses a BASE image approach - stage0/stage1 already have core packages
# We only add what's absolutely necessary for HDMI testing functionality

# Debugging and diagnostics tools (small overhead, critical for troubleshooting)
bash-completion
htop
rsync
unzip
zip
p7zip-full
usbutils

# Core system utilities (essential)
ssh less fbset sudo psmisc
console-setup keyboard-configuration debconf-utils parted
ca-certificates curl
dosfstools
raspberrypi-sys-mods
rpi-eeprom
raspi-utils
file

# Removed for minimal image (conservative removals):
# - strace, ed, ncdu (debugging tools not needed for HDMI tester)
# - build-essential, manpages-dev, gdb, pkg-config (build tools not needed)
# - bash-completion (convenience feature, not essential)
# - python-is-python3 (not using Python scripts)
# - v4l-utils (video4linux not needed)
# - gpiod, python3-libgpiod, python3-gpiozero, python3-rpi-lgpio (GPIO not used)
# - python3-spidev, python3-smbus2 (SPI/I2C not used)
# - avahi-daemon (mDNS already disabled in services)
# - lua5.1, luajit (scripting languages not needed)
# - usbutils (USB management not needed)
# - apt-listchanges (package changelog viewer)
# - usb-modeswitch (USB modem switching)
# - libpam-chksshpwd (SSH password checking)
# - rpi-update (firmware update tool - use rpi-eeprom instead)
# - libmtp-runtime (MTP device access)
# - rsync (file sync not needed)
# - htop (monitoring tool - ssh access allows 'top' if needed)
# - man-db (manual pages - reduces image size significantly)
# - ssh-import-id (SSH key import from GitHub/Launchpad)
# - ethtool (network tool not needed)
# - ntfs-3g (NTFS support not needed)
# - pciutils (PCI utilities)
# - udisks2 (disk management daemon)
# - unzip, zip, p7zip-full (archive tools not needed)
# - kms++-utils (KMS utilities not needed for VLC)
# - python3-venv (Python virtual environments)
# - bluez, bluez-firmware (Bluetooth already disabled)
# - rpi-keyboard-config, rpi-keyboard-fw-update (keyboard not used)
# - rpi-connect-lite (remote access service)
